import{b4 as qe,aK as me,aJ as Ze,I as ge,a3 as ne,R as q,T as $,$ as _,c as ve,o as b,b5 as Je,af as he,b0 as Ge,V as U,g,a as C,Z as v,b as t,a1 as le,ae as be,D as Ce,an as Me,b6 as ze,b7 as Ue,b8 as Qe,b9 as Pe,ba as et,K as E,bb as tt,bc as at,bd as nt,be as st,aa as ie,h as Be,at as G,w as S,e as y,al as ot,d as R,bf as rt,ah as V,Y as it,E as K,bg as lt,F as Te,bh as ct,bi as ut,k as dt,t as Ve,bj as ft,bk as pt,ac as mt,bl as vt,bm as gt,bn as ht,ax as bt,ay as ae,a0 as Fe,bo as yt,bp as _t,bq as wt,ao as re,aW as kt,ab as Oe,br as It,bs as Ee,bt as $e,aD as St,C as Et,bu as $t,bv as Lt,bw as Ct,bx as Tt,aG as Nt}from"./index-Alo-18dM.js";var zt=/\s/;function Ot(e){for(var o=e.length;o--&&zt.test(e.charAt(o)););return o}var xt=/^\s+/;function Rt(e){return e&&e.slice(0,Ot(e)+1).replace(xt,"")}var xe=NaN,At=/^[-+]0x[0-9a-f]+$/i,Mt=/^0b[01]+$/i,Pt=/^0o[0-7]+$/i,Bt=parseInt;function Re(e){if(typeof e=="number")return e;if(qe(e))return xe;if(me(e)){var o=typeof e.valueOf=="function"?e.valueOf():e;e=me(o)?o+"":o}if(typeof e!="string")return e===0?e:+e;e=Rt(e);var s=Mt.test(e);return s||Pt.test(e)?Bt(e.slice(2),s?2:8):At.test(e)?xe:+e}var Le=function(){return Ze.Date.now()},Vt="Expected a function",Ft=Math.max,Yt=Math.min;function Xt(e,o,s){var i,r,d,w,m,l,A=0,L=!1,k=!1,F=!0;if(typeof e!="function")throw new TypeError(Vt);o=Re(o)||0,me(s)&&(L=!!s.leading,k="maxWait"in s,d=k?Ft(Re(s.maxWait)||0,o):d,F="trailing"in s?!!s.trailing:F);function N(u){var T=i,z=r;return i=r=void 0,A=u,w=e.apply(z,T),w}function I(u){return A=u,m=setTimeout(h,o),L?N(u):w}function D(u){var T=u-l,z=u-A,Q=o-T;return k?Yt(Q,d-z):Q}function M(u){var T=u-l,z=u-A;return l===void 0||T>=o||T<0||k&&z>=d}function h(){var u=Le();if(M(u))return H(u);m=setTimeout(h,D(u))}function H(u){return m=void 0,F&&i?N(u):(i=r=void 0,w)}function c(){m!==void 0&&clearTimeout(m),A=0,i=l=r=m=void 0}function se(){return m===void 0?w:H(Le())}function W(){var u=Le(),T=M(u);if(i=arguments,r=this,l=u,T){if(m===void 0)return I(l);if(k)return clearTimeout(m),m=setTimeout(h,o),N(l)}return m===void 0&&(m=setTimeout(h,o)),w}return W.cancel=c,W.flush=se,W}var Dt="Expected a function";function pe(e,o,s){var i=!0,r=!0;if(typeof e!="function")throw new TypeError(Dt);return me(s)&&(i="leading"in s?!!s.leading:i,r="trailing"in s?!!s.trailing:r),Xt(e,o,{leading:i,maxWait:o,trailing:r})}const Ht=ge({to:{type:ne([String,Object]),required:!0},disabled:Boolean}),Wt=$({__name:"teleport",props:Ht,setup(e){return(o,s)=>o.disabled?_(o.$slots,"default",{key:0}):(b(),ve(Je,{key:1,to:o.to},[_(o.$slots,"default")],8,["to"]))}});var jt=q(Wt,[["__file","teleport.vue"]]);const Kt=he(jt),qt=$({name:"ElContainer"}),Zt=$({...qt,props:ge({direction:{type:String,values:["horizontal","vertical"]}}),setup(e){const o=e,s=Ge(),i=U("container"),r=g(()=>o.direction==="vertical"?!0:o.direction==="horizontal"?!1:s&&s.default?s.default().some(w=>{const m=w.type.name;return m==="ElHeader"||m==="ElFooter"}):!1);return(d,w)=>(b(),C("section",{class:v([t(i).b(),t(i).is("vertical",t(r))])},[_(d.$slots,"default")],2))}});var Jt=q(Zt,[["__file","container.vue"]]);const Gt=$({name:"ElAside"}),Ut=$({...Gt,props:{width:{type:String,default:null}},setup(e){const o=e,s=U("aside"),i=g(()=>o.width?s.cssVarBlock({width:o.width}):{});return(r,d)=>(b(),C("aside",{class:v(t(s).b()),style:le(t(i))},[_(r.$slots,"default")],6))}});var Ye=q(Ut,[["__file","aside.vue"]]);const Qt=$({name:"ElFooter"}),ea=$({...Qt,props:{height:{type:String,default:null}},setup(e){const o=e,s=U("footer"),i=g(()=>o.height?s.cssVarBlock({height:o.height}):{});return(r,d)=>(b(),C("footer",{class:v(t(s).b()),style:le(t(i))},[_(r.$slots,"default")],6))}});var Xe=q(ea,[["__file","footer.vue"]]);const ta=$({name:"ElHeader"}),aa=$({...ta,props:{height:{type:String,default:null}},setup(e){const o=e,s=U("header"),i=g(()=>o.height?s.cssVarBlock({height:o.height}):{});return(r,d)=>(b(),C("header",{class:v(t(s).b()),style:le(t(i))},[_(r.$slots,"default")],6))}});var De=q(aa,[["__file","header.vue"]]);const na=$({name:"ElMain"}),sa=$({...na,setup(e){const o=U("main");return(s,i)=>(b(),C("main",{class:v(t(o).b())},[_(s.$slots,"default")],2))}});var He=q(sa,[["__file","main.vue"]]);const ha=he(Jt,{Aside:Ye,Footer:Xe,Header:De,Main:He}),ba=be(Ye),ya=be(Xe),_a=be(De),wa=be(He),oa=ge({urlList:{type:ne(Array),default:()=>Me([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},scale:{type:Number,default:1},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:ne(String)}}),ra={close:()=>!0,error:e=>e instanceof Event,switch:e=>Ce(e),rotate:e=>Ce(e)},ia=$({name:"ElImageViewer"}),la=$({...ia,props:oa,emits:ra,setup(e,{expose:o,emit:s}){var i;const r=e,d={CONTAIN:{name:"contain",icon:ze(Qe)},ORIGINAL:{name:"original",icon:ze(Ue)}};let w;const{t:m}=Pe(),l=U("image-viewer"),{nextZIndex:A}=et(),L=E(),k=E(),F=tt(),N=g(()=>{const{scale:a,minScale:p,maxScale:f}=r;return at(a,p,f)}),I=E(!0),D=E(!1),M=E(!1),h=E(r.initialIndex),H=nt(d.CONTAIN),c=E({scale:N.value,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),se=E((i=r.zIndex)!=null?i:A());st(M,{ns:l});const W=g(()=>{const{urlList:a}=r;return a.length<=1}),u=g(()=>h.value===0),T=g(()=>h.value===r.urlList.length-1),z=g(()=>r.urlList[h.value]),Q=g(()=>[l.e("btn"),l.e("prev"),l.is("disabled",!r.infinite&&u.value)]),ce=g(()=>[l.e("btn"),l.e("next"),l.is("disabled",!r.infinite&&T.value)]),ue=g(()=>{const{scale:a,deg:p,offsetX:f,offsetY:B,enableTransition:Y}=c.value;let x=f/a,X=B/a;const te=p*Math.PI/180,J=Math.cos(te),oe=Math.sin(te);x=x*J+X*oe,X=X*J-f/a*oe;const Se={transform:`scale(${a}) rotate(${p}deg) translate(${x}px, ${X}px)`,transition:Y?"transform .3s":""};return H.value.name===d.CONTAIN.name&&(Se.maxWidth=Se.maxHeight="100%"),Se}),de=g(()=>`${h.value+1} / ${r.urlList.length}`);function Z(){_e(),w?.(),M.value=!1,s("close")}function ye(){const a=pe(f=>{switch(bt(f)){case ae.esc:r.closeOnPressEscape&&Z();break;case ae.space:we();break;case ae.left:ke();break;case ae.up:j("zoomIn");break;case ae.right:Ie();break;case ae.down:j("zoomOut");break}}),p=pe(f=>{const B=f.deltaY||f.deltaX;j(B<0?"zoomIn":"zoomOut",{zoomRate:r.zoomRate,enableTransition:!1})});F.run(()=>{G(document,"keydown",a),G(L,"wheel",p)})}function _e(){F.stop()}function n(){I.value=!1}function P(a){D.value=!0,I.value=!1,s("error",a),a.target.alt=m("el.image.error")}function O(a){if(I.value||a.button!==0||!L.value)return;c.value.enableTransition=!1;const{offsetX:p,offsetY:f}=c.value,B=a.pageX,Y=a.pageY,x=pe(J=>{c.value={...c.value,offsetX:p+J.pageX-B,offsetY:f+J.pageY-Y}}),X=G(document,"mousemove",x),te=G(document,"mouseup",()=>{X(),te()});a.preventDefault()}function ee(a){if(I.value||!L.value||a.touches.length!==1)return;c.value.enableTransition=!1;const{offsetX:p,offsetY:f}=c.value,{pageX:B,pageY:Y}=a.touches[0],x=pe(J=>{const oe=J.touches[0];c.value={...c.value,offsetX:p+oe.pageX-B,offsetY:f+oe.pageY-Y}}),X=G(document,"touchmove",x),te=G(document,"touchend",()=>{X(),te()});a.preventDefault()}function Ne(){c.value={scale:N.value,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function we(){if(I.value||D.value)return;const a=ht(d),p=Object.values(d),f=H.value.name,Y=(p.findIndex(x=>x.name===f)+1)%a.length;H.value=d[a[Y]],Ne()}function fe(a){D.value=!1;const p=r.urlList.length;h.value=(a+p)%p}function ke(){u.value&&!r.infinite||fe(h.value-1)}function Ie(){T.value&&!r.infinite||fe(h.value+1)}function j(a,p={}){if(I.value||D.value)return;const{minScale:f,maxScale:B}=r,{zoomRate:Y,rotateDeg:x,enableTransition:X}={zoomRate:r.zoomRate,rotateDeg:90,enableTransition:!0,...p};switch(a){case"zoomOut":c.value.scale>f&&(c.value.scale=Number.parseFloat((c.value.scale/Y).toFixed(3)));break;case"zoomIn":c.value.scale<B&&(c.value.scale=Number.parseFloat((c.value.scale*Y).toFixed(3)));break;case"clockwise":c.value.deg+=x,s("rotate",c.value.deg);break;case"anticlockwise":c.value.deg-=x,s("rotate",c.value.deg);break}c.value.enableTransition=X}function We(a){var p;((p=a.detail)==null?void 0:p.focusReason)==="pointer"&&a.preventDefault()}function je(){r.closeOnPressEscape&&Z()}function Ke(a){if(a.ctrlKey){if(a.deltaY<0)return a.preventDefault(),!1;if(a.deltaY>0)return a.preventDefault(),!1}}return ie(()=>N.value,a=>{c.value.scale=a}),ie(z,()=>{Fe(()=>{const a=k.value;a?.complete||(I.value=!0)})}),ie(h,a=>{Ne(),s("switch",a)}),Be(()=>{M.value=!0,ye(),w=G("wheel",Ke,{passive:!1})}),o({setActiveItem:fe}),(a,p)=>(b(),ve(t(Kt),{to:"body",disabled:!a.teleported},{default:S(()=>[y(ot,{name:"viewer-fade",appear:""},{default:S(()=>[R("div",{ref_key:"wrapper",ref:L,tabindex:-1,class:v(t(l).e("wrapper")),style:le({zIndex:se.value})},[y(t(rt),{loop:"",trapped:"","focus-trap-el":L.value,"focus-start-el":"container",onFocusoutPrevented:We,onReleaseRequested:je},{default:S(()=>[R("div",{class:v(t(l).e("mask")),onClick:it(f=>a.hideOnClickModal&&Z(),["self"])},null,10,["onClick"]),V(" CLOSE "),R("span",{class:v([t(l).e("btn"),t(l).e("close")]),onClick:Z},[y(t(K),null,{default:S(()=>[y(t(lt))]),_:1})],2),V(" ARROW "),t(W)?V("v-if",!0):(b(),C(Te,{key:0},[R("span",{class:v(t(Q)),onClick:ke},[y(t(K),null,{default:S(()=>[y(t(ct))]),_:1})],2),R("span",{class:v(t(ce)),onClick:Ie},[y(t(K),null,{default:S(()=>[y(t(ut))]),_:1})],2)],64)),a.$slots.progress||a.showProgress?(b(),C("div",{key:1,class:v([t(l).e("btn"),t(l).e("progress")])},[_(a.$slots,"progress",{activeIndex:h.value,total:a.urlList.length},()=>[dt(Ve(t(de)),1)])],2)):V("v-if",!0),V(" ACTIONS "),R("div",{class:v([t(l).e("btn"),t(l).e("actions")])},[R("div",{class:v(t(l).e("actions__inner"))},[_(a.$slots,"toolbar",{actions:j,prev:ke,next:Ie,reset:we,activeIndex:h.value,setActiveItem:fe},()=>[y(t(K),{onClick:f=>j("zoomOut")},{default:S(()=>[y(t(ft))]),_:1},8,["onClick"]),y(t(K),{onClick:f=>j("zoomIn")},{default:S(()=>[y(t(pt))]),_:1},8,["onClick"]),R("i",{class:v(t(l).e("actions__divider"))},null,2),y(t(K),{onClick:we},{default:S(()=>[(b(),ve(mt(t(H).icon)))]),_:1}),R("i",{class:v(t(l).e("actions__divider"))},null,2),y(t(K),{onClick:f=>j("anticlockwise")},{default:S(()=>[y(t(vt))]),_:1},8,["onClick"]),y(t(K),{onClick:f=>j("clockwise")},{default:S(()=>[y(t(gt))]),_:1},8,["onClick"])])],2)],2),V(" CANVAS "),R("div",{class:v(t(l).e("canvas"))},[D.value&&a.$slots["viewer-error"]?_(a.$slots,"viewer-error",{key:0,activeIndex:h.value,src:t(z)}):(b(),C("img",{ref_key:"imgRef",ref:k,key:t(z),src:t(z),style:le(t(ue)),class:v(t(l).e("img")),crossorigin:a.crossorigin,onLoad:n,onError:P,onMousedown:O,onTouchstart:ee},null,46,["src","crossorigin"]))],2),_(a.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var ca=q(la,[["__file","image-viewer.vue"]]);const ua=he(ca),da=ge({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:ne([String,Object])},previewSrcList:{type:ne(Array),default:()=>Me([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},scale:{type:Number,default:1},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:ne(String)}}),fa={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>Ce(e),close:()=>!0,show:()=>!0},pa=$({name:"ElImage",inheritAttrs:!1}),ma=$({...pa,props:da,emits:fa,setup(e,{expose:o,emit:s}){const i=e,{t:r}=Pe(),d=U("image"),w=yt(),m=g(()=>_t(Object.entries(w).filter(([n])=>/^(data-|on[A-Z])/i.test(n)||["id","style"].includes(n)))),l=wt({excludeListeners:!0,excludeKeys:g(()=>Object.keys(m.value))}),A=E(),L=E(!1),k=E(!0),F=E(!1),N=E(),I=E(),D=re&&"loading"in HTMLImageElement.prototype;let M;const h=g(()=>[d.e("inner"),c.value&&d.e("preview"),k.value&&d.is("loading")]),H=g(()=>{const{fit:n}=i;return re&&n?{objectFit:n}:{}}),c=g(()=>{const{previewSrcList:n}=i;return kt(n)&&n.length>0}),se=g(()=>{const{previewSrcList:n,initialIndex:P}=i;let O=P;return P>n.length-1&&(O=0),O}),W=g(()=>i.loading==="eager"?!1:!D&&i.loading==="lazy"||i.lazy),u=()=>{re&&(k.value=!0,L.value=!1,A.value=i.src)};function T(n){k.value=!1,L.value=!1,s("load",n)}function z(n){k.value=!1,L.value=!0,s("error",n)}function Q(n){n&&(u(),de())}const ce=Tt(Q,200,!0);async function ue(){var n;if(!re)return;await Fe();const{scrollContainer:P}=i;if(St(P))I.value=P;else if(Et(P)&&P!=="")I.value=(n=document.querySelector(P))!=null?n:void 0;else if(N.value){const ee=$t(N.value);I.value=Lt(ee)?void 0:ee}const{stop:O}=Ct(N,([ee])=>{ce(ee.isIntersecting)},{root:I});M=O}function de(){!re||!ce||(M?.(),I.value=void 0,M=void 0)}function Z(){c.value&&(F.value=!0,s("show"))}function ye(){F.value=!1,s("close")}function _e(n){s("switch",n)}return ie(()=>i.src,()=>{W.value?(k.value=!0,L.value=!1,de(),ue()):u()}),Be(()=>{W.value?ue():u()}),o({showPreview:Z}),(n,P)=>(b(),C("div",Oe({ref_key:"container",ref:N},t(m),{class:[t(d).b(),n.$attrs.class]}),[L.value?_(n.$slots,"error",{key:0},()=>[R("div",{class:v(t(d).e("error"))},Ve(t(r)("el.image.error")),3)]):(b(),C(Te,{key:1},[A.value!==void 0?(b(),C("img",Oe({key:0},t(l),{src:A.value,loading:n.loading,style:t(H),class:t(h),crossorigin:n.crossorigin,onClick:Z,onLoad:T,onError:z}),null,16,["src","loading","crossorigin"])):V("v-if",!0),k.value?(b(),C("div",{key:1,class:v(t(d).e("wrapper"))},[_(n.$slots,"placeholder",{},()=>[R("div",{class:v(t(d).e("placeholder"))},null,2)])],2)):V("v-if",!0)],64)),t(c)?(b(),C(Te,{key:2},[F.value?(b(),ve(t(ua),{key:0,"z-index":n.zIndex,"initial-index":t(se),infinite:n.infinite,"zoom-rate":n.zoomRate,"min-scale":n.minScale,"max-scale":n.maxScale,"show-progress":n.showProgress,"url-list":n.previewSrcList,scale:n.scale,crossorigin:n.crossorigin,"hide-on-click-modal":n.hideOnClickModal,teleported:n.previewTeleported,"close-on-press-escape":n.closeOnPressEscape,onClose:ye,onSwitch:_e},It({toolbar:S(O=>[_(n.$slots,"toolbar",Ee($e(O)))]),default:S(()=>[n.$slots.viewer?(b(),C("div",{key:0},[_(n.$slots,"viewer")])):V("v-if",!0)]),_:2},[n.$slots.progress?{name:"progress",fn:S(O=>[_(n.$slots,"progress",Ee($e(O)))])}:void 0,n.$slots["viewer-error"]?{name:"viewer-error",fn:S(O=>[_(n.$slots,"viewer-error",Ee($e(O)))])}:void 0]),1032,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","show-progress","url-list","scale","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):V("v-if",!0)],64)):V("v-if",!0)],16))}});var va=q(ma,[["__file","image.vue"]]);const ka=he(va),Ae=[{id:1,name:"冰红茶",path:"./img/1.png",price:3.5,total:50},{id:2,name:"海一阿萨姆500ml",path:"./img/2.png",price:3.5,total:20},{id:3,name:"美优乐",path:"./img/3.png",price:3.5,total:100},{id:4,name:"可乐350ml",path:"./img/4.png",price:3.5,total:75},{id:5,name:"可乐500ml",path:"./img/5.png",price:5,total:15},{id:6,name:"维他柠檬茶250ml",path:"./img/6.png",price:3.5,total:50},{id:7,name:"维他柠檬茶500ml",path:"./img/7.png",price:7.5,total:45},{id:8,name:"康师傅冰红茶500ml",path:"./img/8.png",price:3.5,total:26},{id:9,name:"脉动柠檬味500ml",path:"./img/9.png",price:5,total:20},{id:10,name:"雪碧350ml",path:"./img/10.png",price:3.5,total:15},{id:11,name:"茶π 500ml",path:"./img/11.png",price:5,total:30},{id:12,name:"怡宝500ml",path:"./img/12.png",price:2,total:50},{id:13,name:"康师傅茉莉蜜茶500ml",path:"./img/13.png",price:3,total:20},{id:14,name:"旺仔牛奶125ml",path:"./img/14.png",price:2.5,total:15},{id:15,name:"东方树叶乌龙茶500ml",path:"./img/15.png",price:5,total:25},{id:16,name:"宝矿力水特500ml",path:"./img/16.png",price:5.5,total:30},{id:17,name:"美汁源450ml",path:"./img/17.png",price:4.5,total:40},{id:18,name:"哇哈哈营养快线500ml",path:"./img/18.png",price:5,total:15},{id:19,name:"统一阿萨姆奶茶500ml",path:"./img/19.png",price:4,total:30},{id:20,name:"元气森林葡萄味500ml",path:"./img/20.png",price:5,total:20},{id:21,name:"水溶c100 445ml",path:"./img/21.png",price:5,total:35},{id:22,name:"尖叫500ml",path:"./img/22.png",price:5,total:20},{id:23,name:"椰树牌椰子汁245ml",path:"./img/23.png",price:4.5,total:30},{id:24,name:"美年达600ml",path:"./img/24.png",price:3.5,total:40},{id:25,name:"安慕希205ml",path:"./img/25.png",price:6,total:20},{id:26,name:"乐事薯片黄瓜味 40g",path:"./img/26.png",price:6,total:15}],Ia=Nt("shopList",()=>{const e=E([]);return e.value.push(...Ae),localStorage.getItem("shopList")&&(e.value=JSON.parse(localStorage.getItem("shopList"))),ie(e,i=>{i.length===0?localStorage.removeItem("shopList"):localStorage.setItem("shopList",JSON.stringify(i))},{deep:!0}),{shops:e,clearShopList:()=>{e.value=[]},resetShopList:()=>{e.value=Ae}}});export{ka as E,ha as a,_a as b,wa as c,ba as d,ya as e,Ia as u};
